!function(){"use strict";function V(e){return null==e?-1:jQuery.isNumeric(e)?e:1<e.split(":").length?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}var P=jQuery.fn.revolution,I=P.is_mobile(),m=P.is_android(),C={alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.5",version:"2.1.6"};jQuery.extend(!0,P,{preLoadAudio:function(e,a){if("stop"===P.compare_version(C).check)return!1;e.find(".tp-audiolayer").each(function(){var e=jQuery(this),t={};0===e.find("audio").length&&(t.src=null!=e.data("videomp4")?e.data("videomp4"):"",t.pre=e.data("videopreload")||"",void 0===e.attr("id")&&e.attr("audio-layer-"+Math.round(199999*Math.random())),t.id=e.attr("id"),t.status="prepared",t.start=jQuery.now(),t.waittime=1e3*e.data("videopreloadwait")||5e3,"auto"!=t.pre&&"canplaythrough"!=t.pre&&"canplay"!=t.pre&&"progress"!=t.pre||(void 0===a.audioqueue&&(a.audioqueue=[]),a.audioqueue.push(t),P.manageVideoLayer(e,a)))})},preLoadAudioDone:function(a,e,i){e.audioqueue&&0<e.audioqueue.length&&jQuery.each(e.audioqueue,function(e,t){a.data("videomp4")!==t.src||t.pre!==i&&"auto"!==t.pre||(t.status="loaded")})},resetVideo:function(e,t,a){var i=e.data();switch(i.videotype){case"youtube":i.player;try{if("on"==i.forcerewind){var o=V(e.data("videostartat"));1===i.bgvideo||e.find(".tp-videoposter").length,null!=i.player&&(o=-1==o?0:o,i.player.seekTo(o),i.player.pauseVideo())}}catch(e){}0==e.find(".tp-videoposter").length&&1!==i.bgvideo&&!0!==a&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var d=$f(e.find("iframe").attr("id"));try{if("on"==i.forcerewind){o=V(i.videostartat);1===i.bgvideo||e.find(".tp-videoposter").length,o=-1==o?0:o,d.api("seekTo",o),d.api("pause")}}catch(e){}0==e.find(".tp-videoposter").length&&1!==i.bgvideo&&!0!==a&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(I&&1==i.disablevideoonmobile)return!1;var n="html5"==i.audio?"audio":"video",r=e.find(n),l=r[0];if(punchgs.TweenLite.to(r,.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==i.forcerewind&&!e.hasClass("videoisplaying"))try{o=V(i.videostartat);l.currentTime=-1==o?0:o}catch(e){}("mute"==i.volume||P.lastToggleState(e.videomutetoggledby)||!0===t.globalmute)&&(l.muted=!0)}},isVideoMuted:function(e){var t=!1,a=e.data();switch(a.videotype){case"youtube":try{t=a.player.isMuted()}catch(e){}break;case"vimeo":try{$f(e.find("iframe").attr("id")),"mute"==a.volume&&(t=!0)}catch(e){}break;case"html5":var i="html5"==a.audio?"audio":"video";e.find(i)[0].muted&&(t=!0)}return t},muteVideo:function(e){var t=e.data();switch(t.videotype){case"youtube":try{t.player.mute()}catch(e){}break;case"vimeo":try{var a=$f(e.find("iframe").attr("id"));e.data("volume","mute"),a.api("setVolume",0)}catch(e){}break;case"html5":var i="html5"==t.audio?"audio":"video";e.find(i)[0].muted=!0}},unMuteVideo:function(e,t){if(!0!==t.globalmute){var a=e.data();switch(a.videotype){case"youtube":try{a.player.unMute()}catch(e){}break;case"vimeo":try{var i=$f(e.find("iframe").attr("id"));e.data("volume","1"),i.api("setVolume",1)}catch(e){}break;case"html5":var o="html5"==a.audio?"audio":"video";e.find(o)[0].muted=!1}}},stopVideo:function(e,t){var a=e.data();switch(t.leaveViewPortBasedStop||(t.lastplayedvideos=[]),t.leaveViewPortBasedStop=!1,a.videotype){case"youtube":try{var i=a.player;if(2===i.getPlayerState()||5===i.getPlayerState())return;i.pauseVideo(),a.youtubepausecalled=!0,setTimeout(function(){a.youtubepausecalled=!1},80)}catch(e){console.log("Issue at YouTube Video Pause:"),console.log(e)}break;case"vimeo":try{$f(e.find("iframe").attr("id")).api("pause"),a.vimeopausecalled=!0,setTimeout(function(){a.vimeopausecalled=!1},80)}catch(e){console.log("Issue at Vimeo Video Pause:"),console.log(e)}break;case"html5":var o="html5"==a.audio?"audio":"video",d=e.find(o),n=d[0];null!=d&&null!=n&&n.pause()}},playVideo:function(a,i){clearTimeout(a.data("videoplaywait"));var e=a.data();switch(e.videotype){case"youtube":if(0==a.find("iframe").length)a.append(a.data("videomarkup")),A(a,i,!0);else if(null!=e.player.playVideo){var t=V(a.data("videostartat")),o=e.player.getCurrentTime();1==a.data("nextslideatend-triggered")&&(o=-1,a.data("nextslideatend-triggered",0)),-1!=t&&o<t&&e.player.seekTo(t),!0!==e.youtubepausecalled&&e.player.playVideo()}else a.data("videoplaywait",setTimeout(function(){!0!==e.youtubepausecalled&&P.playVideo(a,i)},50));break;case"vimeo":if(0==a.find("iframe").length)a.append(a.data("videomarkup")),A(a,i,!0);else if(a.hasClass("rs-apiready")){var d=a.find("iframe").attr("id"),n=$f(d);null==n.api("play")?a.data("videoplaywait",setTimeout(function(){!0!==e.vimeopausecalled&&P.playVideo(a,i)},50)):setTimeout(function(){n.api("play");var e=V(a.data("videostartat")),t=a.data("currenttime");1==a.data("nextslideatend-triggered")&&(t=-1,a.data("nextslideatend-triggered",0)),-1!=e&&t<e&&n.api("seekTo",e)},510)}else a.data("videoplaywait",setTimeout(function(){!0!==e.vimeopausecalled&&P.playVideo(a,i)},50));break;case"html5":var r="html5"==e.audio?"audio":"video",l=a.find(r),s=l[0];if(1!=l.parent().data("metaloaded"))j(s,"loadedmetadata",function(e){P.resetVideo(e,i),s.play();var t=V(e.data("videostartat")),a=s.currentTime;1==e.data("nextslideatend-triggered")&&(a=-1,e.data("nextslideatend-triggered",0)),-1!=t&&a<t&&(s.currentTime=t)}(a));else{s.play();t=V(a.data("videostartat")),o=s.currentTime;1==a.data("nextslideatend-triggered")&&(o=-1,a.data("nextslideatend-triggered",0)),-1!=t&&o<t&&(s.currentTime=t)}}},isVideoPlaying:function(a,e){var i=!1;return null!=e.playingvideos&&jQuery.each(e.playingvideos,function(e,t){a.attr("id")==t.attr("id")&&(i=!0)}),i},removeMediaFromList:function(e,t){T(e,t)},prepareCoveredVideo:function(e,t,a){var i=a.find("iframe, video"),o=e.split(":")[0],d=e.split(":")[1],n=a.closest(".tp-revslider-slidesli"),r=n.width()/n.height(),l=o/d,s=r/l*100,u=l/r*100;l<r?punchgs.TweenLite.to(i,.001,{height:s+"%",width:"100%",top:-(s-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.to(i,.001,{width:u+"%",height:"100%",left:-(u-100)/2+"%",top:"0px",position:"absolute"}),i.hasClass("resizelistener")||(i.addClass("resizelistener"),jQuery(window).resize(function(){clearTimeout(i.data("resizelistener")),i.data("resizelistener",setTimeout(function(){P.prepareCoveredVideo(e,t,a)},30))}))},checkVideoApis:function(e,t,a){if(location.protocol,(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&(t.youtubeapineeded=!0),(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&0==a.addedyt){t.youtubestarttime=jQuery.now(),a.addedyt=1;var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0],d=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(d=!1)}),d&&o.parentNode.insertBefore(i,o)}if((null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&(t.vimeoapineeded=!0),(null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&0==a.addedvim){t.vimeostarttime=jQuery.now(),a.addedvim=1;var n=document.createElement("script");o=document.getElementsByTagName("script")[0],d=!0;n.src="https://secure-a.vimeocdn.com/js/froogaloop2.min.js",jQuery("head").find("*").each(function(){"https://secure-a.vimeocdn.com/js/froogaloop2.min.js"==jQuery(this).attr("src")&&(d=!1)}),d&&o.parentNode.insertBefore(n,o)}return a},manageVideoLayer:function(i,o){if("stop"===P.compare_version(C).check)return!1;var e=i.data(),t=e.videoattributes,a=e.ytid,d=e.vimeoid,n="auto"===e.videopreload||"canplay"===e.videopreload||"canplaythrough"===e.videopreload||"progress"===e.videopreload?"auto":e.videopreload,r=e.videomp4,l=e.videowebm,s=e.videoogv,u=e.allowfullscreenvideo,p=e.videocontrols,c="http",v="loop"==e.videoloop?"loop":"loopandnoslidestop"==e.videoloop?"loop":"",g=null!=r||null!=l?"html5":null!=a&&1<String(a).length?"youtube":null!=d&&1<String(d).length?"vimeo":"none",m="html5"==e.audio?"audio":"video",f="html5"==g&&0==i.find(m).length?"html5":"youtube"==g&&0==i.find("iframe").length?"youtube":"vimeo"==g&&0==i.find("iframe").length?"vimeo":"none";switch(v=!0===e.nextslideatend?"":v,e.videotype=g,f){case"html5":"controls"!=p&&(p="");m="video";"html5"==e.audio&&(m="audio",i.addClass("tp-audio-html5"));var y="<"+m+" "+(o.fallbacks.allowHTML5AutoPlayOnAndroid?"muted playsinline":"")+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+v+' preload="'+n+'">';"auto"==n&&(o.mediapreload=!0),null!=l&&"firefox"==P.get_browser().toLowerCase()&&(y=y+'<source src="'+l+'" type="video/webm" />'),null!=r&&(y=y+'<source src="'+r+'" type="video/mp4" />'),null!=s&&(y=y+'<source src="'+s+'" type="video/ogg" />'),y=y+"</"+m+">";var h="";"true"!==u&&!0!==u||(h='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==p&&(y=y+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+h+"</div>"),i.data("videomarkup",y),i.append(y),(I&&1==i.data("disablevideoonmobile")||P.isIE(8))&&i.find(m).remove(),i.find(m).each(function(){var e,t=this,a=jQuery(this);a.parent().hasClass("html5vid")||a.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=a.parent().data("metaloaded")&&j(t,"loadedmetadata",(_(e=i,o),void P.resetVideo(e,o)))});break;case"youtube":c="https","none"==p&&(-1==(t=t.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(t+="&controls=0")),!0!==e.videoinline&&"true"!==e.videoinline&&1!==e.videoinline||(t+="&playsinline=1");var b=V(i.data("videostartat")),w=V(i.data("videoendat"));-1!=b&&(t=t+"&start="+b),-1!=w&&(t=t+"&end="+w);var T=t.split("origin="+c+"://"),k="";1<T.length?(k=T[0]+"origin="+c+"://",self.location.href.match(/www/gi)&&!T[1].match(/www/gi)&&(k+="www."),k+=T[1]):k=t;var x="true"===u||!0===u?"allowfullscreen":"";i.data("videomarkup",'<iframe type="text/html" src="'+c+"://www.youtube.com/embed/"+a+"?"+k+'" '+x+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":c="https",i.data("videomarkup",'<iframe src="'+c+"://player.vimeo.com/video/"+d+"?autoplay=0&"+t+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>')}var L=I&&"on"==i.data("noposteronmobile");if(null!=e.videoposter&&2<e.videoposter.length&&!L)0==i.find(".tp-videoposter").length&&i.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+e.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==i.find("iframe").length&&i.find(".tp-videoposter").click(function(){if(P.playVideo(i,o),I){if(1==i.data("disablevideoonmobile"))return!1;punchgs.TweenLite.to(i.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(i.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}});else{if(I&&1==i.data("disablevideoonmobile"))return!1;0!=i.find("iframe").length||"youtube"!=g&&"vimeo"!=g||(i.append(i.data("videomarkup")),A(i,o,!1))}"none"!=i.data("dottedoverlay")&&null!=i.data("dottedoverlay")&&1!=i.find(".tp-dottedoverlay").length&&i.append('<div class="tp-dottedoverlay '+i.data("dottedoverlay")+'"></div>'),i.addClass("HasListener"),1==i.data("bgvideo")&&punchgs.TweenLite.set(i.find("video, iframe"),{autoAlpha:0})}});var j=function(e,t,a){e.addEventListener?e.addEventListener(t,a,{capture:!1,passive:!0}):e.attachEvent(t,a,{capture:!1,passive:!0})},y=function(e,t,a){var i={};return i.video=e,i.videotype=t,i.settings=a,i},A=function(o,d,e){var t,n=o.data(),a=o.find("iframe"),i="iframe"+Math.round(1e5*Math.random()+1),r=n.videoloop,l="loopandnoslidestop"!=r;(r="loop"==r||"loopandnoslidestop"==r,1==o.data("forcecover"))&&(o.removeClass("fullscreenvideo").addClass("coverscreenvideo"),null!=(t=o.data("aspectratio"))&&1<t.split(":").length&&(console.log("i"),P.prepareCoveredVideo(t,d,o)));1==o.data("bgvideo")&&(null!=(t=o.data("aspectratio"))&&1<t.split(":").length&&(console.log("ak"),P.prepareCoveredVideo(t,d,o)));if(a.attr("id",i),e&&o.data("startvideonow",!0),1!==o.data("videolistenerexist"))switch(n.videotype){case"youtube":var s=new YT.Player(i,{events:{onStateChange:function(e){var t=o.closest(".tp-simpleresponsive"),a=(n.videorate,o.data("videostart"),b());if(e.data==YT.PlayerState.PLAYING)punchgs.TweenLite.to(o.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(o.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==o.data("volume")||P.lastToggleState(o.data("videomutetoggledby"))||!0===d.globalmute?s.mute():(s.unMute(),s.setVolume(parseInt(o.data("volume"),0)||75)),d.videoplaying=!0,w(o,d),l?d.c.trigger("stoptimer"):d.videoplaying=!1,d.c.trigger("revolution.slide.onvideoplay",y(s,"youtube",o.data())),P.toggleState(n.videotoggledby);else{if(0==e.data&&r){var i=V(o.data("videostartat"));-1!=i&&s.seekTo(i),s.playVideo(),P.toggleState(n.videotoggledby)}a||0!=e.data&&2!=e.data||!("on"==o.data("showcoveronpause")&&0<o.find(".tp-videoposter").length||1===o.data("bgvideo")&&0<o.find(".rs-fullvideo-cover").length)||(1===o.data("bgvideo")?punchgs.TweenLite.to(o.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(o.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(o.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=e.data&&3!=e.data&&(d.videoplaying=!1,d.tonpause=!1,T(o,d),t.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",y(s,"youtube",o.data())),null!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=o.attr("id")||P.unToggleState(n.videotoggledby)),0==e.data&&1==o.data("nextslideatend")?(h(),o.data("nextslideatend-triggered",1),d.c.revnext(),T(o,d)):(T(o,d),d.videoplaying=!1,t.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",y(s,"youtube",o.data())),null!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=o.attr("id")||P.unToggleState(n.videotoggledby))}},onReady:function(e){var t=n.videorate;if(o.data("videostart"),o.addClass("rs-apiready"),null!=t&&e.target.setPlaybackRate(parseFloat(t)),o.find(".tp-videoposter").unbind("click"),o.find(".tp-videoposter").click(function(){I||s.playVideo()}),o.data("startvideonow")){n.player.playVideo();var a=V(o.data("videostartat"));-1!=a&&n.player.seekTo(a)}o.data("videolistenerexist",1)}}});o.data("player",s);break;case"vimeo":for(var u,p=a.attr("src"),c={},v=p,g=/([^&=]+)=([^&]*)/g;u=g.exec(v);)c[decodeURIComponent(u[1])]=decodeURIComponent(u[2]);p=null!=c.player_id?p.replace(c.player_id,i):p+"&player_id="+i;try{p=p.replace("api=0","api=1")}catch(o){}p+="&api=1",a.attr("src",p);s=o.find("iframe")[0];(f=(jQuery("#"+i),$f(i))).addEvent("ready",function(){if(o.addClass("rs-apiready"),f.addEvent("play",function(){o.data("nextslidecalled",0),punchgs.TweenLite.to(o.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(o.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),d.c.trigger("revolution.slide.onvideoplay",y(f,"vimeo",o.data())),d.videoplaying=!0,w(o,d),l?d.c.trigger("stoptimer"):d.videoplaying=!1,"mute"==o.data("volume")||P.lastToggleState(o.data("videomutetoggledby"))||!0===d.globalmute?f.api("setVolume","0"):f.api("setVolume",parseInt(o.data("volume"),0)/100||.75),P.toggleState(n.videotoggledby)}),f.addEvent("playProgress",function(e){var t=V(o.data("videoendat"));if(o.data("currenttime",e.seconds),0!=t&&Math.abs(t-e.seconds)<.3&&t>e.seconds&&1!=o.data("nextslidecalled"))if(r){f.api("play");var a=V(o.data("videostartat"));-1!=a&&f.api("seekTo",a)}else 1==o.data("nextslideatend")&&(o.data("nextslideatend-triggered",1),o.data("nextslidecalled",1),d.c.revnext()),f.api("pause")}),f.addEvent("finish",function(){T(o,d),d.videoplaying=!1,d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",y(f,"vimeo",o.data())),1==o.data("nextslideatend")&&(o.data("nextslideatend-triggered",1),d.c.revnext()),null!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=o.attr("id")||P.unToggleState(n.videotoggledby)}),f.addEvent("pause",function(){("on"==o.data("showcoveronpause")&&0<o.find(".tp-videoposter").length||1===o.data("bgvideo")&&0<o.find(".rs-fullvideo-cover").length)&&(1===o.data("bgvideo")?punchgs.TweenLite.to(o.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(o.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(o.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),d.videoplaying=!1,d.tonpause=!1,T(o,d),d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",y(f,"vimeo",o.data())),null!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=o.attr("id")||P.unToggleState(n.videotoggledby)}),o.find(".tp-videoposter").unbind("click"),o.find(".tp-videoposter").click(function(){if(!I)return f.api("play"),!1}),o.data("startvideonow")){f.api("play");var e=V(o.data("videostartat"));-1!=e&&f.api("seekTo",e)}o.data("videolistenerexist",1)})}else{var m=V(o.data("videostartat"));switch(n.videotype){case"youtube":e&&(n.player.playVideo(),-1!=m&&n.player.seekTo());break;case"vimeo":var f;if(e)(f=$f(o.find("iframe").attr("id"))).api("play"),-1!=m&&f.api("seekTo",m)}}},h=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},b=function(){try{if(void 0!==window.fullScreen)return window.fullScreen;var e=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(e=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<e}catch(e){}},_=function(o,d){if(I&&1==o.data("disablevideoonmobile"))return!1;var n=o.data(),e="html5"==n.audio?"audio":"video",t=o.find(e),r=t[0],a=t.parent(),l=n.videoloop,s="loopandnoslidestop"!=l;if(l="loop"==l||"loopandnoslidestop"==l,a.data("metaloaded",1),1!=o.data("bgvideo")||"none"!==n.videoloop&&!1!==n.videoloop||(s=!1),null==t.attr("control")&&(0!=o.find(".tp-video-play-button").length||I||o.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),o.find("video, .tp-poster, .tp-video-play-button").click(function(){o.hasClass("videoisplaying")?r.pause():r.play()})),1==o.data("forcecover")||o.hasClass("fullscreenvideo")||1==o.data("bgvideo"))if(1==o.data("forcecover")||1==o.data("bgvideo")){a.addClass("fullcoveredvideo");var i=o.data("aspectratio")||"4:3";P.setSize(d),P.prepareCoveredVideo(i,d,o)}else a.addClass("fullscreenvideo");var u=o.find(".tp-vid-play-pause")[0],p=o.find(".tp-vid-mute")[0],c=o.find(".tp-vid-full-screen")[0],v=o.find(".tp-seek-bar")[0],g=o.find(".tp-volume-bar")[0];null!=u&&j(u,"click",function(){1==r.paused?r.play():r.pause()}),null!=p&&j(p,"click",function(){0==r.muted?(r.muted=!0,p.innerHTML="Unmute"):(r.muted=!1,p.innerHTML="Mute")}),null!=c&&c&&j(c,"click",function(){r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen()}),null!=v&&(j(v,"change",function(){var e=r.duration*(v.value/100);r.currentTime=e}),j(v,"mousedown",function(){o.addClass("seekbardragged"),r.pause()}),j(v,"mouseup",function(){o.removeClass("seekbardragged"),r.play()})),j(r,"canplaythrough",function(){P.preLoadAudioDone(o,d,"canplaythrough")}),j(r,"canplay",function(){P.preLoadAudioDone(o,d,"canplay")}),j(r,"progress",function(){P.preLoadAudioDone(o,d,"progress")}),j(r,"timeupdate",function(){var e=100/r.duration*r.currentTime,t=V(o.data("videoendat")),a=r.currentTime;if(null!=v&&(v.value=e),0!=t&&-1!=t&&Math.abs(t-a)<=.3&&a<t&&1!=o.data("nextslidecalled"))if(l){r.play();var i=V(o.data("videostartat"));-1!=i&&(r.currentTime=i)}else 1==o.data("nextslideatend")&&(o.data("nextslideatend-triggered",1),o.data("nextslidecalled",1),d.just_called_nextslide_at_htmltimer=!0,d.c.revnext(),setTimeout(function(){d.just_called_nextslide_at_htmltimer=!1},1e3)),r.pause()}),null!=g&&j(g,"change",function(){r.volume=g.value}),j(r,"play",function(){o.data("nextslidecalled",0);var e=o.data("volume");e=null!=e&&"mute"!=e?parseFloat(e)/100:e,m||(!0===d.globalmute?r.muted=!0:r.muted=!1,1<e&&(e/=100),"mute"==e?r.muted=!0:null!=e&&(r.volume=e)),o.addClass("videoisplaying");var t="html5"==n.audio?"audio":"video";w(o,d),s&&"audio"!=t?(d.videoplaying=!0,d.c.trigger("stoptimer"),d.c.trigger("revolution.slide.onvideoplay",y(r,"html5",n))):(d.videoplaying=!1,"audio"!=t&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",y(r,"html5",n))),punchgs.TweenLite.to(o.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(o.find(t),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var a=o.find(".tp-vid-play-pause")[0],i=o.find(".tp-vid-mute")[0];null!=a&&(a.innerHTML="Pause"),null!=i&&r.muted&&(i.innerHTML="Unmute"),P.toggleState(n.videotoggledby)}),j(r,"pause",function(){var e="html5"==n.audio?"audio":"video";!b()&&0<o.find(".tp-videoposter").length&&"on"==o.data("showcoveronpause")&&!o.hasClass("seekbardragged")&&(punchgs.TweenLite.to(o.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(o.find(e),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),o.removeClass("videoisplaying"),d.videoplaying=!1,T(o,d),"audio"!=e&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",y(r,"html5",o.data()));var t=o.find(".tp-vid-play-pause")[0];null!=t&&(t.innerHTML="Play"),null!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=o.attr("id")||P.unToggleState(n.videotoggledby)}),j(r,"ended",function(){h(),T(o,d),d.videoplaying=!1,T(o,d),"audio"!=e&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",y(r,"html5",o.data())),!0===o.data("nextslideatend")&&0<r.currentTime&&(1==!d.just_called_nextslide_at_htmltimer&&(o.data("nextslideatend-triggered",1),d.c.revnext(),d.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){d.just_called_nextslide_at_htmltimer=!1},1500)),o.removeClass("videoisplaying")})},w=function(e,a){null==a.playingvideos&&(a.playingvideos=new Array),e.data("stopallvideos")&&null!=a.playingvideos&&0<a.playingvideos.length&&(a.lastplayedvideos=jQuery.extend(!0,[],a.playingvideos),jQuery.each(a.playingvideos,function(e,t){P.stopVideo(t,a)})),a.playingvideos.push(e),a.currentLayerVideoIsPlaying=e},T=function(e,t){null!=t.playingvideos&&0<=jQuery.inArray(e,t.playingvideos)&&t.playingvideos.splice(jQuery.inArray(e,t.playingvideos),1)}}(jQuery);