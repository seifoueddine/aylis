!function(n,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():n.NProgress=e()}(this,function(){function o(n,e,t){return n<e?e:t<n?t:n}function a(n){return 100*(-1+n)}function u(n,e,t){var r;return(r="translate3d"===d.positionUsing?{transform:"translate3d("+a(n)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+a(n)+"%,0)"}:{"margin-left":a(n)+"%"}).transition="all "+e+"ms "+t,r}function i(n,e){return 0<=("string"==typeof n?n:s(n)).indexOf(" "+e+" ")}function c(n,e){var t=s(n),r=t+e;i(t,e)||(n.className=r.substring(1))}function e(n,e){var t,r=s(n);i(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function s(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function l(n){n&&n.parentNode&&n.parentNode.removeChild(n)}var t,r,f={version:"0.2.0"},d=f.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};f.configure=function(n){var e,t;for(e in n)(t=n[e])!==undefined&&n.hasOwnProperty(e)&&(d[e]=t);return this},f.status=null,f.set=function(e){var n=f.isStarted();e=o(e,d.minimum,1),f.status=1===e?null:e;var t=f.render(!n),r=t.querySelector(d.barSelector),i=d.speed,s=d.easing;return t.offsetWidth,m(function(n){""===d.positionUsing&&(d.positionUsing=f.getPositioningCSS()),p(r,u(e,i,s)),1===e?(p(t,{transition:"none",opacity:1}),t.offsetWidth,setTimeout(function(){p(t,{transition:"all "+i+"ms linear",opacity:0}),setTimeout(function(){f.remove(),n()},i)},i)):setTimeout(n,i)}),this},f.isStarted=function(){return"number"==typeof f.status},f.start=function(){f.status||f.set(0);var n=function(){setTimeout(function(){f.status&&(f.trickle(),n())},d.trickleSpeed)};return d.trickle&&n(),this},f.done=function(n){return n||f.status?f.inc(.3+.5*Math.random()).set(1):this},f.inc=function(n){var e=f.status;return e?("number"!=typeof n&&(n=(1-e)*o(Math.random()*e,.1,.95)),e=o(e+n,0,.994),f.set(e)):f.start()},f.trickle=function(){return f.inc(Math.random()*d.trickleRate)},r=t=0,f.promise=function(n){return n&&"resolved"!==n.state()&&(0===r&&f.start(),t++,r++,n.always(function(){0==--r?(t=0,f.done()):f.set((t-r)/t)})),this},f.render=function(n){if(f.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=d.template;var t,r=e.querySelector(d.barSelector),i=n?"-100":a(f.status||0),s=document.querySelector(d.parent);return p(r,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),d.showSpinner||(t=e.querySelector(d.spinnerSelector))&&l(t),s!=document.body&&c(s,"nprogress-custom-parent"),s.appendChild(e),e},f.remove=function(){e(document.documentElement,"nprogress-busy"),e(document.querySelector(d.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&l(n)},f.isRendered=function(){return!!document.getElementById("nprogress")},f.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var m=function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),p=function(){function e(n){return n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,e){return e.toUpperCase()})}function t(n){var e=document.body.style;if(n in e)return n;for(var t,r=o.length,i=n.charAt(0).toUpperCase()+n.slice(1);r--;)if((t=o[r]+i)in e)return t;return n}function r(n){return n=e(n),i[n]||(i[n]=t(n))}function s(n,e,t){e=r(e),n.style[e]=t}var o=["Webkit","O","Moz","ms"],i={};return function(n,e){var t,r,i=arguments;if(2==i.length)for(t in e)(r=e[t])!==undefined&&e.hasOwnProperty(t)&&s(n,t,r);else s(n,i[1],i[2])}}();return f});