function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var _slice=Array.prototype.slice,_slicedToArray=function(){function i(e,t){var i=[],n=!0,r=!1,s=undefined;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw s}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return i(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.parsley=t(e.jQuery)}(this,function(h){"use strict";function r(t,i){return t.parsleyAdaptedCallback||(t.parsleyAdaptedCallback=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(this),t.apply(i||Rt,e)}),t.parsleyAdaptedCallback}function s(e){return 0===e.lastIndexOf(Tt,0)?e.substr(Tt.length):e}function e(){var n=this,r=window||global;h.extend(this,{isNativeEvent:function e(e){return e.originalEvent&&!1!==e.originalEvent.isTrusted},fakeInputEvent:function t(e){n.isNativeEvent(e)&&h(e.target).trigger("input")},misbehaves:function i(e){n.isNativeEvent(e)&&(n.behavesOk(e),h(document).on("change.inputevent",e.data.selector,n.fakeInputEvent),n.fakeInputEvent(e))},behavesOk:function s(e){n.isNativeEvent(e)&&h(document).off("input.inputevent",e.data.selector,n.behavesOk).off("change.inputevent",e.data.selector,n.misbehaves)},install:function a(){if(!r.inputEventPatched){r.inputEventPatched="0.0.3";for(var e=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],t=0;t<e.length;t++){var i=e[t];h(document).on("input.inputevent",i,{selector:i},n.behavesOk).on("change.inputevent",i,{selector:i},n.misbehaves)}}},uninstall:function o(){delete r.inputEventPatched,h(document).off(".inputevent")}})}var i,n,t=1,a={},o={attr:function l(e,t,i){var n,r,s,a=new RegExp("^"+t,"i");if(void 0===i)i={};else for(n in i)i.hasOwnProperty(n)&&delete i[n];if(void 0===e||"undefined"==typeof e[0])return i;for(n=(s=e[0].attributes).length;n--;)(r=s[n])&&r.specified&&a.test(r.name)&&(i[this.camelize(r.name.slice(t.length))]=this.deserializeValue(r.value));return i},checkAttr:function u(e,t,i){return e.is("["+t+i+"]")},setAttr:function d(e,t,i,n){e[0].setAttribute(this.dasherize(t+i),String(n))},generateID:function p(){return""+t++},deserializeValue:function c(e){var t;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?h.parseJSON(e):e:t):e}catch(i){return e}},camelize:function f(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function m(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function g(){var e;window.console&&"function"==typeof window.console.warn&&(e=window.console).warn.apply(e,arguments)},warnOnce:function v(e){a[e]||(a[e]=!0,this.warn.apply(this,arguments))},_resetWarnings:function y(){a={}},trimString:function _(e){return e.replace(/^\s+|\s+$/g,"")},parse:{date:function w(e){var t=e.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!t)return null;var i=t.map(function(e){return parseInt(e,10)}),n=_slicedToArray(i,4),r=(n[0],n[1]),s=n[2],a=n[3],o=new Date(r,s-1,a);return o.getFullYear()!==r||o.getMonth()+1!==s||o.getDate()!==a?null:o},string:function b(e){return e},integer:function F(e){return isNaN(e)?null:parseInt(e,10)},number:function C(e){if(isNaN(e))throw null;return parseFloat(e)},"boolean":function $(e){return!/^\s*false\s*$/i.test(e)},object:function x(e){return o.deserializeValue(e)},regexp:function E(e){var t="";return/^\/.*\/(?:[gimy]*)$/.test(e)?(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")):e="^"+e+"$",new RegExp(e,t)}},parseRequirement:function V(e,t){var i=this.parse[e||"string"];if(!i)throw'Unknown requirement specification: "'+e+'"';var n=i(t);if(null===n)throw"Requirement is not a "+e+': "'+t+'"';return n},namespaceEvents:function P(e,t){return(e=this.trimString(e||"").split(/\s+/))[0]?h.map(e,function(e){return e+"."+t}).join(" "):""},difference:function A(e,i){var n=[];return h.each(e,function(e,t){-1==i.indexOf(t)&&n.push(t)}),n},all:function M(e){return h.when.apply(h,_toConsumableArray(e).concat([42,42]))},objectCreate:Object.create||(i=function i(){},function(e){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=typeof e)throw TypeError("Argument must be an object");i.prototype=e;var t=new i;return i.prototype=null,t}),_SubmitSelector:'input[type="submit"], button:submit'},O=o,R={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function D(){},errorsContainer:function T(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"};(n=function n(){this.__id__=O.generateID()}).prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function I(){var e,t=this;return[e=function e(){var e=h.Deferred();return!0!==t.validationResult&&e.reject(),e.resolve().promise()},e]},actualizeOptions:function q(){return O.attr(this.$element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function k(e){for(var t in this.domOptions=O.objectCreate(this.parent.options),this.options=O.objectCreate(this.domOptions),e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.actualizeOptions()},_listeners:null,on:function z(e,t){return this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t),this},subscribe:function S(e,t){h.listenTo(this,e.toLowerCase(),t)},off:function j(e,t){var i=this._listeners&&this._listeners[e];if(i)if(t)for(var n=i.length;n--;)i[n]===t&&i.splice(n,1);else delete this._listeners[e];return this},unsubscribe:function U(e){h.unsubscribeTo(this,e.toLowerCase())},trigger:function N(e,t,i){t=t||this;var n,r=this._listeners&&this._listeners[e];if(r)for(var s=r.length;s--;)if(!1===(n=r[s].call(t,t,i)))return n;return!this.parent||this.parent.trigger(e,t,i)},asyncIsValid:function W(e,t){return O.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:e,force:t})},_findRelated:function H(){return this.options.multiple?this.parent.$element.find("["+this.options.namespace+'multiple="'+this.options.multiple+'"]'):this.$element}};var B,L=function L(e,t){var i=e.match(/^\s*\[(.*)\]\s*$/);if(!i)throw'Requirement is not an array: "'+e+'"';var n=i[1].split(",").map(O.trimString);if(n.length!==t)throw"Requirement has "+n.length+" values when "+t+" are needed";return n},G=function G(e,t,i){var n=null,r={};for(var s in e)if(s){var a=i(s);"string"==typeof a&&(a=O.parseRequirement(e[s],a)),r[s]=a}else n=O.parseRequirement(e[s],t);return[n,r]};(B=function B(e){h.extend(!0,this,e)}).prototype={validate:function Y(e,t){if(this.fn)return 3<arguments.length&&(t=[].slice.call(arguments,1,-1)),this.fn(e,t);if(h.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var i=arguments[arguments.length-1];if(this.validateDate&&i._isDateInput())return arguments[0]=O.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(e)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function Z(e,t){if("string"!=typeof e)return h.isArray(e)?e:[e];var i=this.requirementType;if(h.isArray(i)){for(var n=L(e,i.length),r=0;r<n.length;r++)n[r]=O.parseRequirement(i[r],n[r]);return n}return h.isPlainObject(i)?G(i,e,t):[O.parseRequirement(i,e)]},requirementType:"string",priority:2};var Q=function Q(e,t){this.__class__="ValidatorRegistry",this.locale="en",this.init(e||{},t||{})},J={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function K(e){return null!==O.parse.date(e)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};J.range=J.number;var X=function X(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},ee=function ee(e,t){return t.map(O.parse[e])},te=function te(r,s){return function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.pop(),s.apply(undefined,[e].concat(_toConsumableArray(ee(r,i))))}},ie=function ie(e){return{validateDate:te("date",e),validateNumber:te("number",e),requirementType:e.length<=2?"string":["string","string"],priority:30}};Q.prototype={init:function ne(e,t){for(var i in this.catalog=t,this.validators=h.extend({},this.validators),e)this.addValidator(i,e[i].fn,e[i].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function re(e){if("undefined"==typeof this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function se(e,t,i){return"object"==typeof t&&(this.catalog[e]=t),!0===i?this.setLocale(e):this},addMessage:function ae(e,t,i){return"undefined"==typeof this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t]=i,this},addMessages:function oe(e,t){for(var i in t)this.addMessage(e,i,t[i]);return this},addValidator:function le(e){if(this.validators[e])O.warn('Validator "'+e+'" is already defined.');else if(R.hasOwnProperty(e))return void O.warn('"'+e+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function ue(e){return this.validators[e]?this._setValidator.apply(this,arguments):(O.warn('Validator "'+e+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function de(e){return this.validators[e]||O.warn('Validator "'+e+'" is not defined.'),delete this.validators[e],this},_setValidator:function he(e,t,i){for(var n in"object"!=typeof t&&(t={fn:t,priority:i}),t.validate||(t=new B(t)),(this.validators[e]=t).messages||{})this.addMessage(n,e,t.messages[n]);return this},getErrorMessage:function pe(e){var t;"type"===e.name?t=(this.catalog[this.locale][e.name]||{})[e.requirements]:t=this.formatMessage(this.catalog[this.locale][e.name],e.requirements);return t||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function ce(e,t){if("object"==typeof t){for(var i in t)e=this.formatMessage(e,t[i]);return e}return"string"==typeof e?e.replace(/%s/i,t):""},validators:{notblank:{validateString:function fe(e){return/\S/.test(e)},priority:2},required:{validateMultiple:function me(e){return 0<e.length},validateString:function fe(e){return/\S/.test(e)},priority:512},type:{validateString:function fe(e,t,i){var n=arguments.length<=2||i===undefined?{}:arguments[2],r=n.step,s=r===undefined?"any":r,a=n.base,o=a===undefined?0:a,l=J[t];if(!l)throw new Error("validator type `"+t+"` is not supported");if(!l.test(e))return!1;if("number"===t&&!/^any$/i.test(s||"")){var u,d=Number(e),h=Math.max(X(s),X(o));if(X(d)>h)return!1;if(((u=function u(e){return Math.round(e*Math.pow(10,h))})(d)-u(o))%u(s)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function fe(e,t){return t.test(e)},requirementType:"regexp",priority:64},minlength:{validateString:function fe(e,t){return e.length>=t},requirementType:"integer",priority:30},maxlength:{validateString:function fe(e,t){return e.length<=t},requirementType:"integer",priority:30},length:{validateString:function fe(e,t,i){return e.length>=t&&e.length<=i},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function me(e,t){return e.length>=t},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function me(e,t){return e.length<=t},requirementType:"integer",priority:30},check:{validateMultiple:function me(e,t,i){return e.length>=t&&e.length<=i},requirementType:["integer","integer"],priority:30},min:ie(function(e,t){return t<=e}),max:ie(function(e,t){return e<=t}),range:ie(function(e,t,i){return t<=e&&e<=i}),equalto:{validateString:function fe(e,t){var i=h(t);return i.length?e===i.val():e===t},priority:256}}};var ge={},ve=function ve(e,t,i){for(var n=[],r=[],s=0;s<e.length;s++){for(var a=!1,o=0;o<t.length;o++)if(e[s].assert.name===t[o].assert.name){a=!0;break}a?r.push(e[s]):n.push(e[s])}return{kept:r,added:n,removed:i?[]:ve(t,e,!0).added}};ge.Form={_actualizeTriggers:function ye(){var t=this;this.$element.on("submit.Parsley",function(e){t.onSubmitValidate(e)}),this.$element.on("click.Parsley",O._SubmitSelector,function(e){t.onSubmitButton(e)}),!1!==this.options.uiEnabled&&this.$element.attr("novalidate","")},focus:function _e(){if(!(this._focusedField=null)===this.validationResult||"none"===this.options.focus)return null;for(var e=0;e<this.fields.length;e++){var t=this.fields[e];if(!0!==t.validationResult&&0<t.validationResult.length&&"undefined"==typeof t.options.noFocus&&(this._focusedField=t.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function we(){this.$element.off(".Parsley")}};var be,Fe={pending:null,resolved:!0,rejected:!(ge.Field={_reflowUI:function Ce(){if(this._buildUI(),this._ui){var e=ve(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(e),this._actualizeTriggers(),!e.kept.length&&!e.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function $e(){if(!0===this.validationResult)return[];for(var e=[],t=0;t<this.validationResult.length;t++)e.push(this.validationResult[t].errorMessage||this._getErrorMessage(this.validationResult[t].assert));return e},addError:function xe(e,t){var i=arguments.length<=1||t===undefined?{}:arguments[1],n=i.message,r=i.assert,s=i.updateClass,a=s===undefined||s;this._buildUI(),this._addError(e,{message:n,assert:r}),a&&this._errorClass()},updateError:function Ee(e,t){var i=arguments.length<=1||t===undefined?{}:arguments[1],n=i.message,r=i.assert,s=i.updateClass,a=s===undefined||s;this._buildUI(),this._updateError(e,{message:n,assert:r}),a&&this._errorClass()},removeError:function Ve(e,t){var i=(arguments.length<=1||t===undefined?{}:arguments[1]).updateClass,n=i===undefined||i;this._buildUI(),this._removeError(e),n&&this._manageStatusClass()},_manageStatusClass:function Pe(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():0<this.validationResult.length?this._errorClass():this._resetClass()},_manageErrorsMessages:function Ae(e){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage)return e.added.length||e.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(h(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var t=0;t<e.removed.length;t++)this._removeError(e.removed[t].assert.name);for(t=0;t<e.added.length;t++)this._addError(e.added[t].assert.name,{message:e.added[t].errorMessage,assert:e.added[t].assert});for(t=0;t<e.kept.length;t++)this._updateError(e.kept[t].assert.name,{message:e.kept[t].errorMessage,assert:e.kept[t].assert})}},_addError:function Me(e,t){var i=t.message,n=t.assert;this._insertErrorWrapper(),this._ui.$errorsWrapper.addClass("filled").append(h(this.options.errorTemplate).addClass("parsley-"+e).html(i||this._getErrorMessage(n)))},_updateError:function Oe(e,t){var i=t.message,n=t.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(i||this._getErrorMessage(n))},_removeError:function Re(e){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove()},_getErrorMessage:function De(e){var t=e.name+"Message";return"undefined"!=typeof this.options[t]?window.Parsley.formatMessage(this.options[t],e.requirements):window.Parsley.getErrorMessage(e)},_buildUI:function Te(){if(!this._ui&&!1!==this.options.uiEnabled){var e={};this.$element.attr(this.options.namespace+"id",this.__id__),e.$errorClassHandler=this._manageClassHandler(),e.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),e.$errorsWrapper=h(this.options.errorsWrapper).attr("id",e.errorsWrapperId),e.lastValidationResult=[],e.validationInformationVisible=!1,this._ui=e}},_manageClassHandler:function Ie(){if("string"==typeof this.options.classHandler&&h(this.options.classHandler).length)return h(this.options.classHandler);var e=this.options.classHandler.call(this,this);return void 0!==e&&e.length?e:this._inputHolder()},_inputHolder:function qe(){return!this.options.multiple||this.$element.is("select")?this.$element:this.$element.parent()},_insertErrorWrapper:function ke(){var e;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof this.options.errorsContainer){if(h(this.options.errorsContainer).length)return h(this.options.errorsContainer).append(this._ui.$errorsWrapper);O.warn("The errors container `"+this.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof this.options.errorsContainer&&(e=this.options.errorsContainer.call(this,this));return void 0!==e&&e.length?e.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function ye(){var e,t=this,i=this._findRelated();i.off(".Parsley"),this._failedOnce?i.on(O.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){t._validateIfNeeded()}):(e=O.namespaceEvents(this.options.trigger,"Parsley"))&&i.on(e,function(e){t._validateIfNeeded(e)})},_validateIfNeeded:function ze(e){var t=this;e&&/key|input/.test(e.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return t.validate()},this.options.debounce)):this.validate())},_resetUI:function Se(){this._failedOnce=!1,this._actualizeTriggers(),"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function we(){this._resetUI(),"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function je(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function Ue(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function Ne(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}})};(be=function be(e,t,i){this.__class__="Form",this.$element=h(e),this.domOptions=t,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null}).prototype={onSubmitValidate:function We(e){var t=this;if(!0!==e.parsley){var i=this._$submitSource||this.$element.find(O._SubmitSelector).first();if(this._$submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!i.is("[formnovalidate]")){var n=this.whenValidate({event:e});"resolved"===n.state()&&!1!==this._trigger("submit")||(e.stopImmediatePropagation(),e.preventDefault(),"pending"===n.state()&&n.done(function(){t._submit(i)}))}}},onSubmitButton:function He(e){this._$submitSource=h(e.currentTarget)},_submit:function Be(e){if(!1!==this._trigger("submit")){if(e){var t=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===t.length&&(t=h('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),t.attr({name:e.attr("name"),value:e.attr("value")})}this.$element.trigger(h.extend(h.Event("submit"),{parsley:!0}))}},validate:function Y(e){if(1<=arguments.length&&!h.isPlainObject(e)){O.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var t=_slice.call(arguments);e={group:t[0],force:t[1],event:t[2]}}return Fe[this.whenValidate(e).state()]},whenValidate:function Le(e){var t,i=this,n=arguments.length<=0||e===undefined?{}:arguments[0],r=n.group,s=n.force,a=n.event;(this.submitEvent=a)&&(this.submitEvent=h.extend({},a,{preventDefault:function o(){O.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),i.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var l=this._withoutReactualizingFormOptions(function(){return h.map(i.fields,function(e){return e.whenValidate({force:s,group:r})})});return(t=O.all(l).done(function(){i._trigger("success")}).fail(function(){i.validationResult=!1,i.focus(),i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function Ge(e){if(1<=arguments.length&&!h.isPlainObject(e)){O.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var t=_slice.call(arguments);e={group:t[0],force:t[1]}}return Fe[this.whenValid(e).state()]},whenValid:function Ye(e){var t=this,i=arguments.length<=0||e===undefined?{}:arguments[0],n=i.group,r=i.force;this._refreshFields();var s=this._withoutReactualizingFormOptions(function(){return h.map(t.fields,function(e){return e.whenValid({group:n,force:r})})});return O.all(s)},reset:function Ze(){for(var e=0;e<this.fields.length;e++)this.fields[e].reset();this._trigger("reset")},destroy:function Qe(){this._destroyUI();for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function Je(){return this.actualizeOptions()._bindFields()},_bindFields:function Ke(){var r=this,e=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){r.$element.find(r.options.inputs).not(r.options.excluded).each(function(e,t){var i=new window.Parsley.Factory(t,{},r);if(("Field"===i.__class__||"FieldMultiple"===i.__class__)&&!0!==i.options.excluded){var n=i.__class__+"-"+i.__id__;"undefined"==typeof r.fieldsMappedById[n]&&(r.fieldsMappedById[n]=i,r.fields.push(i))}}),h.each(O.difference(e,r.fields),function(e,t){t.reset()})}),this},_withoutReactualizingFormOptions:function Xe(e){var t=this.actualizeOptions;this.actualizeOptions=function(){return this};var i=e();return this.actualizeOptions=t,i},_trigger:function et(e){return this.trigger("form:"+e)}};var tt,it,nt=function nt(e){return e[0].toUpperCase()+e.slice(1)},rt={pending:null,resolved:!0,rejected:!((tt=function tt(e,t,i,n,r){var s=window.Parsley._validatorRegistry.validators[t],a=new B(s);h.extend(this,{validator:a,name:t,requirements:i,priority:n||e.options[t+"Priority"]||a.priority,isDomConstraint:!0===r}),this._parseRequirements(e.options)}).prototype={validate:function Y(e,t){var i;return(i=this.validator).validate.apply(i,[e].concat(_toConsumableArray(this.requirementList),[t]))},_parseRequirements:function st(t){var i=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(e){return t[i.name+nt(e)]})}})};(it=function it(e,t,i,n){this.__class__="Field",this.$element=h(e),void 0!==n&&(this.parent=n),this.options=i,this.domOptions=t,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()}).prototype={validate:function Y(e){1<=arguments.length&&!h.isPlainObject(e)&&(O.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),e={options:e});var t=this.whenValidate(e);if(!t)return!0;switch(t.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function Le(e){var t,i=this,n=arguments.length<=0||e===undefined?{}:arguments[0],r=n.force,s=n.group;if(this.refreshConstraints(),!s||this._isInGroup(s))return this.value=this.getValue(),this._trigger("validate"),(t=this.whenValid({force:r,value:this.value,_refreshed:!0}).always(function(){i._reflowUI()}).done(function(){i._trigger("success")}).fail(function(){i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function at(){return 0!==this.constraints.length},needsValidation:function ot(e){return void 0===e&&(e=this.getValue()),!(!e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty)},_isInGroup:function lt(e){return h.isArray(this.options.group)?-1!==h.inArray(e,this.options.group):this.options.group===e},isValid:function Ge(e){if(1<=arguments.length&&!h.isPlainObject(e)){O.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var t=_slice.call(arguments);e={force:t[0],value:t[1]}}var i=this.whenValid(e);return!i||rt[i.state()]},whenValid:function Ye(e){var n=this,t=arguments.length<=0||e===undefined?{}:arguments[0],i=t.force,r=i!==undefined&&i,s=t.value,a=t.group;if(t._refreshed||this.refreshConstraints(),!a||this._isInGroup(a)){if(this.validationResult=!0,!this.hasConstraints())return h.when();if(null==s&&(s=this.getValue()),!this.needsValidation(s)&&!0!==r)return h.when();var o=this._getGroupedConstraints(),l=[];return h.each(o,function(e,t){var i=O.all(h.map(t,function(e){return n._validateConstraint(s,e)}));if(l.push(i),"rejected"===i.state())return!1}),O.all(l)}},_validateConstraint:function ut(e,t){var i=this,n=t.validate(e,this);return!1===n&&(n=h.Deferred().reject()),O.all([n]).fail(function(e){i.validationResult instanceof Array||(i.validationResult=[]),i.validationResult.push({assert:t,errorMessage:"string"==typeof e&&e})})},getValue:function dt(){var e;return null==(e="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val())?"":this._handleWhitespace(e)},reset:function Ze(){return this._resetUI(),this._trigger("reset")},destroy:function Qe(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refreshConstraints:function ht(){return this.actualizeOptions()._bindConstraints()},addConstraint:function pt(e,t,i,n){if(window.Parsley._validatorRegistry.validators[e]){var r=new tt(this,e,t,i,n);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function ct(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[e],this},updateConstraint:function ft(e,t,i){return this.removeConstraint(e).addConstraint(e,t,i)},_bindConstraints:function mt(){for(var e=[],t={},i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&(e.push(this.constraints[i]),t[this.constraints[i].name]=this.constraints[i]);for(var n in this.constraints=e,this.constraintsByName=t,this.options)this.addConstraint(n,this.options[n],undefined,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function gt(){this.$element.attr("required")&&this.addConstraint("required",!0,undefined,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),undefined,!0),void 0!==this.$element.attr("min")&&void 0!==this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],undefined,!0):void 0!==this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),undefined,!0):void 0!==this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),undefined,!0),void 0!==this.$element.attr("minlength")&&void 0!==this.$element.attr("maxlength")?this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],undefined,!0):void 0!==this.$element.attr("minlength")?this.addConstraint("minlength",this.$element.attr("minlength"),undefined,!0):void 0!==this.$element.attr("maxlength")&&this.addConstraint("maxlength",this.$element.attr("maxlength"),undefined,!0);var e=this.$element.attr("type");return void 0===e?this:"number"===e?this.addConstraint("type",["number",{step:this.$element.attr("step")||"1",base:this.$element.attr("min")||this.$element.attr("value")}],undefined,!0):/^(email|url|range|date)$/i.test(e)?this.addConstraint("type",e,undefined,!0):this},_isRequired:function vt(){return"undefined"!=typeof this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function et(e){return this.trigger("field:"+e)},_handleWhitespace:function yt(e){return!0===this.options.trimValue&&O.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(e=e.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(e=O.trimString(e)),e},_isDateInput:function _t(){var e=this.constraintsByName.type;return e&&"date"===e.requirements},_getGroupedConstraints:function wt(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var e=[],t={},i=0;i<this.constraints.length;i++){var n=this.constraints[i].priority;t[n]||e.push(t[n]=[]),t[n].push(this.constraints[i])}return e.sort(function(e,t){return t[0].priority-e[0].priority}),e}};var bt,Ft,Ct=it;(bt=function bt(){this.__class__="FieldMultiple"}).prototype={addElement:function $t(e){return this.$elements.push(e),this},refreshConstraints:function ht(){var e;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var t=0;t<this.$elements.length;t++)if(h("html").has(this.$elements[t]).length){e=this.$elements[t].data("FieldMultiple").refreshConstraints().constraints;for(var i=0;i<e.length;i++)this.addConstraint(e[i].name,e[i].requirements,e[i].priority,e[i].isDomConstraint)}else this.$elements.splice(t,1);return this},getValue:function dt(){if("function"==typeof this.options.value)return this.options.value(this);if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return this._findRelated().filter(":checked").val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return this._findRelated().filter(":checked").each(function(){e.push(h(this).val())}),e}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function xt(){return this.$elements=[
this.$element],this}},(Ft=function Ft(e,t,i){this.$element=h(e);var n=this.$element.data("Parsley");if(n)return void 0!==i&&n.parent===window.Parsley&&(n.parent=i,n._resetOptions(n.options)),"object"==typeof t&&h.extend(n.options,t),n;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==i&&"Form"!==i.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=i||window.Parsley,this.init(t)}).prototype={init:function ne(e){return this.__class__="Parsley",this.__version__="2.7.0",this.__id__=O.generateID(),this._resetOptions(e),this.$element.is("form")||O.checkAttr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function Et(){return this.$element.is("input[type=radio], input[type=checkbox]")||this.$element.is("select")&&void 0!==this.$element.attr("multiple")},handleMultiple:function Vt(){var e,t,i=this;if(this.options.multiple||(void 0!==this.$element.attr("name")&&this.$element.attr("name").length?this.options.multiple=e=this.$element.attr("name"):void 0!==this.$element.attr("id")&&this.$element.attr("id").length&&(this.options.multiple=this.$element.attr("id"))),this.$element.is("select")&&void 0!==this.$element.attr("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return O.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),void 0!==e&&h('input[name="'+e+'"]').each(function(e,t){h(t).is("input[type=radio], input[type=checkbox]")&&h(t).attr(i.options.namespace+"multiple",i.options.multiple)});for(var n=this._findRelated(),r=0;r<n.length;r++)if(void 0!==(t=h(n.get(r)).data("Parsley"))){this.$element.data("FieldMultiple")||t.addElement(this.$element);break}return this.bind("parsleyField",!0),t||this.bind("parsleyFieldMultiple")},bind:function Pt(e,t){var i;switch(e){case"parsleyForm":i=h.extend(new be(this.$element,this.domOptions,this.options),new n,window.ParsleyExtend)._bindFields();break;case"parsleyField":i=h.extend(new Ct(this.$element,this.domOptions,this.options,this.parent),new n,window.ParsleyExtend);break;case"parsleyFieldMultiple":i=h.extend(new Ct(this.$element,this.domOptions,this.options,this.parent),new bt,new n,window.ParsleyExtend)._init();break;default:throw new Error(e+"is not a supported Parsley type")}return this.options.multiple&&O.setAttr(this.$element,this.options.namespace,"multiple",this.options.multiple),void 0!==t?this.$element.data("FieldMultiple",i):(this.$element.data("Parsley",i),i._actualizeTriggers(),i._trigger("init")),i}};var At=h.fn.jquery.split(".");if(parseInt(At[0])<=1&&parseInt(At[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";At.forEach||O.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var Mt=h.extend(new n,{$element:h(document),actualizeOptions:null,_resetOptions:null,Factory:Ft,version:"2.7.0"});h.extend(Ct.prototype,ge.Field,n.prototype),h.extend(be.prototype,ge.Form,n.prototype),h.extend(Ft.prototype,n.prototype),h.fn.parsley=h.fn.psly=function(e){if(1<this.length){var t=[];return this.each(function(){t.push(h(this).parsley(e))}),t}if(h(this).length)return new Ft(this,e);O.warn("You must bind Parsley on an existing element.")},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),Mt.options=h.extend(O.objectCreate(R),window.ParsleyConfig),window.ParsleyConfig=Mt.options,window.Parsley=window.psly=Mt,Mt.Utils=O,window.ParsleyUtils={},h.each(O,function(e,t){"function"==typeof t&&(window.ParsleyUtils[e]=function(){return O.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),O[e].apply(O,arguments)})});var Ot=window.Parsley._validatorRegistry=new Q(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},h.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(e,t){window.Parsley[t]=h.proxy(Ot,t),window.ParsleyValidator[t]=function(){var e;return O.warnOnce("Accessing the method '"+t+"' through Validator is deprecated. Simply call 'window.Parsley."+t+"(...)'"),(e=window.Parsley)[t].apply(e,arguments)}}),window.Parsley.UI=ge,window.ParsleyUI={removeError:function Ve(e,t,i){var n=!0!==i;return O.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e.removeError(t,{updateClass:n})},getErrorsMessages:function $e(e){return O.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),e.getErrorsMessages()}},h.each("addError updateError".split(" "),function(e,a){window.ParsleyUI[a]=function(e,t,i,n,r){var s=!0!==r;return O.warnOnce("Accessing UI is deprecated. Call '"+a+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e[a](t,{message:i,assert:n,updateClass:s})}}),!1!==window.ParsleyConfig.autoBind&&h(function(){h("[data-parsley-validate]").length&&h("[data-parsley-validate]").parsley()});var Rt=h({}),Dt=function Dt(){O.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},Tt="parsley:";h.listen=function(e,t,i){var n;if(Dt(),"object"==typeof arguments[1]&&"function"==typeof i&&(n=arguments[1],t=arguments[2]),"function"!=typeof t)throw new Error("Wrong parameters");window.Parsley.on(s(e),r(t,n))},h.listenTo=function(e,t,i){if(Dt(),!(e instanceof Ct||e instanceof be))throw new Error("Must give Parsley instance");if("string"!=typeof t||"function"!=typeof i)throw new Error("Wrong parameters");e.on(s(t),r(i))},h.unsubscribe=function(e,t){if(Dt(),"string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");window.Parsley.off(s(e),t.parsleyAdaptedCallback)},h.unsubscribeTo=function(e,t){if(Dt(),!(e instanceof Ct||e instanceof be))throw new Error("Must give Parsley instance");e.off(s(t))},h.unsubscribeAll=function(t){Dt(),window.Parsley.off(s(t)),h("form,input,textarea,select").each(function(){var e=h(this).data("Parsley");e&&e.off(s(t))})},h.emit=function(e,t){var i;Dt();var n=t instanceof Ct||t instanceof be,r=Array.prototype.slice.call(arguments,n?2:1);r.unshift(s(e)),n||(t=window.Parsley),(i=t).trigger.apply(i,_toConsumableArray(r))};return h.extend(!0,Mt,{asyncValidators:{"default":{fn:function It(e){return 200<=e.status&&e.status<300},url:!1},reverse:{fn:function It(e){return e.status<200||300<=e.status},url:!1}},addAsyncValidator:function qt(e,t,i,n){return Mt.asyncValidators[e]={fn:t,url:i||!1,options:n||{}},this}}),Mt.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function fe(e,t,i,n){var r,s,a={},o=i.validator||(!0===i.reverse?"reverse":"default");if("undefined"==typeof Mt.asyncValidators[o])throw new Error("Calling an undefined async validator: `"+o+"`");-1<(t=Mt.asyncValidators[o].url||t).indexOf("{value}")?t=t.replace("{value}",encodeURIComponent(e)):a[n.$element.attr("name")||n.$element.attr("id")]=e;var l=h.extend(!0,i.options||{},Mt.asyncValidators[o].options);r=h.extend(!0,{},{url:t,data:a,type:"GET"},l),n.trigger("field:ajaxoptions",n,r),s=h.param(r),"undefined"==typeof Mt._remoteCache&&(Mt._remoteCache={});var u=Mt._remoteCache[s]=Mt._remoteCache[s]||h.ajax(r),d=function d(){var e=Mt.asyncValidators[o].fn.call(n,u,t,i);return e||(e=h.Deferred().reject()),h.when(e)};return u.then(d,d)},priority:-1}),Mt.on("form:submit",function(){Mt._remoteCache={}}),window.ParsleyExtend.addAsyncValidator=function(){return Utils.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),Mt.addAsyncValidator.apply(Mt,arguments)},Mt.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),Mt.setLocale("en"),(new e).install(),Mt});