!function(){function r(r){function n(r,n,t){var a=null;if(i(n)&&(d(n),u(r),s(r),l(n),2<=v)){var e=f(n),o=h();"undefined"==typeof M[n.bars.order]&&(b(e)?M[n.bars.order]=-1*c(g,e-1,Math.floor(v/2)-1)-o:M[n.bars.order]=c(g,Math.ceil(v/2),e-2)+o+2*y),a=p(t,n,M[n.bars.order]),t.points=a}return a}function i(r){return null!=r.bars&&r.bars.show&&null!=r.bars.order}function u(r){var n=w?r.getPlaceholder().innerHeight():r.getPlaceholder().innerWidth(),t=e(r.getData(),w?1:0),a=t[1]-t[0];W=a/n}function e(r,n){for(var t=new Array,a=0;a<r.length;a++)t[0]=r[a].data[0]?r[a].data[0][n]:null,t[1]=r[a].data[r[a].data.length-1]?r[a].data[r[a].data.length-1][n]:null;return t}function s(r){g=t(r.getData()),v=g.length}function t(r){for(var n=new Array,t=[],a=0;a<r.length;a++)null!=r[a].bars.order&&r[a].bars.show&&t.indexOf(r[a].bars.order)<0&&(t.push(r[a].bars.order),n.push(r[a]));return n.sort(o)}function o(r,n){var t=r.bars.order,a=n.bars.order;return t<a?-1:a<t?1:0}function l(r){a="undefined"!=typeof r.bars.lineWidth?r.bars.lineWidth:2,y=a*W}function d(r){r.bars.horizontal&&(w=!0)}function f(r){for(var n=0,t=0;t<g.length;++t)if(r==g[t]){n=t;break}return n+1}function h(){var r=0;return v%2!=0&&(r=g[Math.ceil(v/2)].bars.barWidth/2),r}function b(r){return r<=Math.ceil(v/2)}function c(r,n,t){for(var a=0,e=n;e<=t;e++)a+=r[e].bars.barWidth+2*y;return a}function p(r,n,t){for(var a=r.pointsize,e=r.points,o=0,i=w?1:0;i<e.length;i+=a)e[i]+=t,n.data[o][3]=e[i],o++;return e}var g,v,a,y,W=1,w=!1,M={};r.hooks.processDatapoints.push(n)}var n={series:{bars:{order:null}}};jQuery.plot.plugins.push({init:r,options:n,name:"orderBars",version:"0.2"})}();