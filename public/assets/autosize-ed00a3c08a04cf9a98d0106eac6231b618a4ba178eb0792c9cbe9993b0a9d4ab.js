!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(i,e){function t(){var e=window.getComputedStyle(i,null);c=e.overflowY,"vertical"===e.resize?i.style.resize="none":"both"===e.resize&&(i.style.resize="horizontal"),f="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(f)&&(f=0),r()}function n(e){var t=i.style.width;i.style.width="0px",i.offsetWidth,i.style.width=t,c=e,a&&(i.style.overflowY=e),o()}function o(){var e=window.pageYOffset,t=document.body.scrollTop,n=i.style.height;i.style.height="auto";var o=i.scrollHeight+f;0!==i.scrollHeight?(i.style.height=o+"px",p=i.clientWidth,document.documentElement.scrollTop=e,document.body.scrollTop=t):i.style.height=n}function r(){var e=i.style.height;if(o(),window.getComputedStyle(i,null).height!==i.style.height?"visible"!==c&&n("visible"):"hidden"!==c&&n("hidden"),e!==i.style.height){var t=w("autosize:resized");i.dispatchEvent(t)}}var d=e===undefined?{}:arguments[1],s=d.setOverflowX,l=s===undefined||s,u=d.setOverflowY,a=u===undefined||u;if(i&&i.nodeName&&"TEXTAREA"===i.nodeName&&!y.has(i)){var f=null,c=null,p=i.clientWidth,h=function h(){i.clientWidth!==p&&r()},v=function(t){window.removeEventListener("resize",h,!1),i.removeEventListener("input",r,!1),i.removeEventListener("keyup",r,!1),i.removeEventListener("autosize:destroy",v,!1),i.removeEventListener("autosize:update",r,!1),y["delete"](i),Object.keys(t).forEach(function(e){i.style[e]=t[e]})}.bind(i,{height:i.style.height,resize:i.style.resize,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap});i.addEventListener("autosize:destroy",v,!1),"onpropertychange"in i&&"oninput"in i&&i.addEventListener("keyup",r,!1),window.addEventListener("resize",h,!1),i.addEventListener("input",r,!1),i.addEventListener("autosize:update",r,!1),y.add(i),l&&(i.style.overflowX="hidden",i.style.wordWrap="break-word"),t()}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=w("autosize:destroy");e.dispatchEvent(t)}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=w("autosize:update");e.dispatchEvent(t)}}var r,y="function"==typeof Set?new Set:(r=[],{has:function d(e){return Boolean(-1<r.indexOf(e))},add:function s(e){r.push(e)},"delete":function l(e){r.splice(r.indexOf(e),1)}}),w=function w(e){return new Event(e)};try{new Event("test")}catch(a){w=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.exports=u});