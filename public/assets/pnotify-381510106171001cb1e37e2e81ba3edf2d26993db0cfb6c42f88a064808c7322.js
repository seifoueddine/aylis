!function(i,s){"function"==typeof define&&define.amd?define("pnotify",["jquery"],function(t){return s(t,i)}):"object"==typeof exports&&"undefined"!=typeof module?module.exports=s(require("jquery"),global||i):i.PNotify=s(i.jQuery,i)}(this,function(p,t){var o=function(s){var e,a,t={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:p("body"),modal:!1},r=p(s),i=function(){a=p("body"),h.prototype.options.stack.context=a,(r=p(s)).bind("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){h.positionAll(!0)},10)})},c=function(t){var i=p("<div />",{"class":"ui-pnotify-modal-overlay"});return i.prependTo(t.context),t.overlay_close&&i.click(function(){h.removeStack(t)}),i},h=function(t){this.parseOptions(t),this.init()};return p.extend(h.prototype,{version:"3.0.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:t},modules:{},runModules:function(t,i){var s,e;for(e in this.modules)s="object"==typeof i&&e in i?i[e]:i,"function"==typeof this.modules[e][t]&&((this.modules[e].notice=this).modules[e].options="object"==typeof this.options[e]?this.options[e]:{},this.modules[e][t](this,"object"==typeof this.options[e]?this.options[e]:{},s))},state:"initializing",timer:null,animTimer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var t=this;return this.modules={},p.extend(!0,this.modules,h.prototype.modules),this.styles="object"==typeof this.options.styling?this.options.styling:h.styling[this.options.styling],this.elem=p("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(){if(t.options.mouse_reset&&"out"===t.animating){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(){t.options.hide&&t.options.mouse_reset&&"out"!==t.animating&&t.queueRemove(),h.positionAll()}}),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.container=p("<div />",{"class":this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon&&p("<div />",{"class":"ui-pnotify-icon"}).append(p("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=p("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=p("<div />",{"class":"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),h.notices="top"===this.options.stack.push?p.merge([this],h.notices):p.merge(h.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(t){var i=this.options;return this.parseOptions(i,t),this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.options.cornerclass!==i.cornerclass&&this.container.removeClass("ui-corner-all "+i.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==i.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(i.addclass):this.options.addclass!==i.addclass&&this.elem.removeClass(i.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==i.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===i.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==i.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===i.text&&this.text_container.slideDown(200)),this.options.type!==i.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==i.icon||!0===this.options.icon&&this.options.type!==i.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&p("<div />",{"class":"ui-pnotify-icon"}).append(p("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==i.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==i.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.hide?i.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",i),this},open:function(){this.state="opening",this.runModules("beforeOpen");var t=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:a),"top"!==this.options.stack.push&&this.position(!0),this.animateIn(function(){t.queuePosition(!0),t.options.hide&&t.queueRemove(),t.state="open",t.runModules("afterOpen")}),this},remove:function(t){this.state="closing",this.timerHide=!!t,this.runModules("beforeClose");var i=this;return this.timer&&(s.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(i.state="closed",i.runModules("afterClose"),i.queuePosition(!0),i.options.remove&&i.elem.detach(),i.runModules("beforeDestroy"),i.options.destroy&&null!==h.notices){var t=p.inArray(i,h.notices);-1!==t&&h.notices.splice(t,1)}i.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,i){this.options=p.extend(!0,{},h.prototype.options),this.options.stack=h.prototype.options.stack;for(var s,e=[t,i],o=0;o<e.length&&void 0!==(s=e[o]);o++)if("object"!=typeof s)this.options.text=s;else for(var n in s)this.modules[n]?p.extend(!0,this.options[n],s[n]):this.options[n]=s[n]},animateIn:function(t){this.animating="in";var i=this;t=function(){i.animTimer&&clearTimeout(i.animTimer),"in"===i.animating&&(i.elem.is(":visible")?(this&&this.call(),i.animating=!1):i.animTimer=setTimeout(t,40))}.bind(t),"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",t).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(t,650)):(this.elem.addClass("ui-pnotify-in"),t())},animateOut:function(t){this.animating="out";var i=this;t=function(){i.animTimer&&clearTimeout(i.animTimer),"out"===i.animating&&("0"!=i.elem.css("opacity")&&i.elem.is(":visible")?i.animTimer=setTimeout(t,40):(i.elem.removeClass("ui-pnotify-in"),this&&this.call(),i.animating=!1))}.bind(t),"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",t).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(t,650)):(this.elem.removeClass("ui-pnotify-in"),t())},position:function(t){var i=this.options.stack,s=this.elem;if("undefined"==typeof i.context&&(i.context=a),i){"number"!=typeof i.nextpos1&&(i.nextpos1=i.firstpos1),"number"!=typeof i.nextpos2&&(i.nextpos2=i.firstpos2),"number"!=typeof i.addpos2&&(i.addpos2=0);var e=!s.hasClass("ui-pnotify-in");if(!e||t){var o,n;switch(i.modal&&(i.overlay?i.overlay.show():i.overlay=c(i)),s.addClass("ui-pnotify-move"),i.dir1){case"down":o="top";break;case"up":o="bottom";break;case"left":o="right";break;case"right":o="left"}switch(t=parseInt(s.css(o).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(t)&&(t=0),"undefined"!=typeof i.firstpos1||e||(i.firstpos1=t,i.nextpos1=i.firstpos1),i.dir2){case"down":n="top";break;case"up":n="bottom";break;case"left":n="right";break;case"right":n="left"}switch(t=parseInt(s.css(n).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(t)&&(t=0),"undefined"!=typeof i.firstpos2||e||(i.firstpos2=t,i.nextpos2=i.firstpos2),("down"===i.dir1&&i.nextpos1+s.height()>(i.context.is(a)?r.height():i.context.prop("scrollHeight"))||"up"===i.dir1&&i.nextpos1+s.height()>(i.context.is(a)?r.height():i.context.prop("scrollHeight"))||"left"===i.dir1&&i.nextpos1+s.width()>(i.context.is(a)?r.width():i.context.prop("scrollWidth"))||"right"===i.dir1&&i.nextpos1+s.width()>(i.context.is(a)?r.width():i.context.prop("scrollWidth")))&&(i.nextpos1=i.firstpos1,i.nextpos2+=i.addpos2+("undefined"==typeof i.spacing2?25:i.spacing2),i.addpos2=0),"number"==typeof i.nextpos2&&(i.animation?s.css(n,i.nextpos2+"px"):(s.removeClass("ui-pnotify-move"),s.css(n,i.nextpos2+"px"),s.css(n),s.addClass("ui-pnotify-move"))),i.dir2){case"down":case"up":s.outerHeight(!0)>i.addpos2&&(i.addpos2=s.height());break;case"left":case"right":s.outerWidth(!0)>i.addpos2&&(i.addpos2=s.width())}switch("number"==typeof i.nextpos1&&(i.animation?s.css(o,i.nextpos1+"px"):(s.removeClass("ui-pnotify-move"),s.css(o,i.nextpos1+"px"),s.css(o),s.addClass("ui-pnotify-move"))),i.dir1){case"down":case"up":i.nextpos1+=s.height()+("undefined"==typeof i.spacing1?25:i.spacing1);break;case"left":case"right":i.nextpos1+=s.width()+("undefined"==typeof i.spacing1?25:i.spacing1)}}return this}},queuePosition:function(t,i){return e&&clearTimeout(e),i||(i=10),e=setTimeout(function(){h.positionAll(t)},i),this},cancelRemove:function(){return this.timer&&s.clearTimeout(this.timer),this.animTimer&&s.clearTimeout(this.animTimer),"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in")),this},queueRemove:function(){var t=this;return this.cancelRemove(),this.timer=s.setTimeout(function(){t.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),p.extend(h,{notices:[],reload:o,removeAll:function(){p.each(h.notices,function(){this.remove&&this.remove(!1)})},removeStack:function(t){p.each(h.notices,function(){this.remove&&this.options.stack===t&&this.remove(!1)})},positionAll:function(i){if(e&&clearTimeout(e),e=null,h.notices&&h.notices.length)p.each(h.notices,function(){var t=this.options.stack;t&&(t.overlay&&t.overlay.hide(),t.nextpos1=t.firstpos1,t.nextpos2=t.firstpos2,t.addpos2=0,t.animation=i)}),p.each(h.notices,function(){this.position()});else{var t=h.prototype.options.stack;t&&(delete t.nextpos1,delete t.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),h.styling.fontawesome=p.extend({},h.styling.bootstrap3),p.extend(h.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),s.document.body?i():p(i),h};return o(t)});